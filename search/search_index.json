{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"stable-diffusion\u670d\u52a1\u5b9e\u4f8b\u90e8\u7f72\u6587\u6863 \u514d\u8d23\u58f0\u660e\uff1a \u672c\u670d\u52a1\u7531\u7b2c\u4e09\u65b9\u63d0\u4f9b\uff0c\u6211\u4eec\u5c3d\u529b\u786e\u4fdd\u5176\u5b89\u5168\u6027\u3001\u51c6\u786e\u6027\u548c\u53ef\u9760\u6027\uff0c\u4f46\u65e0\u6cd5\u4fdd\u8bc1\u5176\u5b8c\u5168\u514d\u4e8e\u6545\u969c\u3001\u4e2d\u65ad\u3001\u9519\u8bef\u6216\u653b\u51fb\u3002\u56e0\u6b64\uff0c\u672c\u516c\u53f8\u5728\u6b64\u58f0\u660e\uff1a\u5bf9\u4e8e\u672c\u670d\u52a1\u7684\u5185\u5bb9\u3001\u51c6\u786e\u6027\u3001\u5b8c\u6574\u6027\u3001\u53ef\u9760\u6027\u3001\u9002\u7528\u6027\u4ee5\u53ca\u53ca\u65f6\u6027\u4e0d\u4f5c\u4efb\u4f55\u9648\u8ff0\u3001\u4fdd\u8bc1\u6216\u627f\u8bfa\uff0c\u4e0d\u5bf9\u60a8\u4f7f\u7528\u672c\u670d\u52a1\u6240\u4ea7\u751f\u7684\u4efb\u4f55\u76f4\u63a5\u6216\u95f4\u63a5\u7684\u635f\u5931\u6216\u635f\u5bb3\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\uff1b\u5bf9\u4e8e\u60a8\u901a\u8fc7\u672c\u670d\u52a1\u8bbf\u95ee\u7684\u7b2c\u4e09\u65b9\u7f51\u7ad9\u3001\u5e94\u7528\u7a0b\u5e8f\u3001\u4ea7\u54c1\u548c\u670d\u52a1\uff0c\u4e0d\u5bf9\u5176\u5185\u5bb9\u3001\u51c6\u786e\u6027\u3001\u5b8c\u6574\u6027\u3001\u53ef\u9760\u6027\u3001\u9002\u7528\u6027\u4ee5\u53ca\u53ca\u65f6\u6027\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\uff0c\u60a8\u5e94\u81ea\u884c\u627f\u62c5\u4f7f\u7528\u540e\u679c\u4ea7\u751f\u7684\u98ce\u9669\u548c\u8d23\u4efb\uff1b\u5bf9\u4e8e\u56e0\u60a8\u4f7f\u7528\u672c\u670d\u52a1\u800c\u4ea7\u751f\u7684\u4efb\u4f55\u635f\u5931\u3001\u635f\u5bb3\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u76f4\u63a5\u635f\u5931\u3001\u95f4\u63a5\u635f\u5931\u3001\u5229\u6da6\u635f\u5931\u3001\u5546\u8a89\u635f\u5931\u3001\u6570\u636e\u635f\u5931\u6216\u5176\u4ed6\u7ecf\u6d4e\u635f\u5931\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\uff0c\u5373\u4f7f\u672c\u516c\u53f8\u4e8b\u5148\u5df2\u88ab\u544a\u77e5\u53ef\u80fd\u5b58\u5728\u6b64\u7c7b\u635f\u5931\u6216\u635f\u5bb3\u7684\u53ef\u80fd\u6027\uff1b\u6211\u4eec\u4fdd\u7559\u4e0d\u65f6\u4fee\u6539\u672c\u58f0\u660e\u7684\u6743\u5229\uff0c\u56e0\u6b64\u8bf7\u60a8\u5728\u4f7f\u7528\u672c\u670d\u52a1\u524d\u5b9a\u671f\u68c0\u67e5\u672c\u58f0\u660e\u3002\u5982\u679c\u60a8\u5bf9\u672c\u58f0\u660e\u6216\u672c\u670d\u52a1\u5b58\u5728\u4efb\u4f55\u95ee\u9898\u6216\u7591\u95ee\uff0c\u8bf7\u8054\u7cfb\u6211\u4eec\u3002 \u6982\u8ff0 Stable Diffusion Web UI \u662f\u4e00\u4e2a\u57fa\u4e8e Stable Diffusion \u7684\u57fa\u7840\u5e94\u7528\uff0c\u5229\u7528 gradio \u6a21\u5757\u642d\u5efa\u51fa\u4ea4\u4e92\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u5728\u4f4e\u4ee3\u7801 GUI \u4e2d\u7acb\u5373\u8bbf\u95ee Stable Diffusion\u3002\u5b83\u652f\u6301\u6587\u5b57\u751f\u6210\u56fe\u7247\uff0c\u56fe\u7247\u8f6c\u56fe\u7247\uff0c\u4f7f\u7528\u5404\u79cd\u5404\u6837\u7684\u6a21\u578b\u6765\u8fbe\u5230\u4f60\u60f3\u8981\u7684\u6548\u679c\uff0c\u8fd8\u80fd\u8bad\u7ec3\u81ea\u5df1\u7684\u4e13\u5c5e\u6a21\u578b\u3002\u672c\u6587\u5411\u60a8\u4ecb\u7ecd\u5982\u4f55\u5f00\u901a\u8ba1\u7b97\u5de2\u4e0a\u7684stable-diffusion\u670d\u52a1\uff0c\u4ee5\u53ca\u90e8\u7f72\u6d41\u7a0b\u548c\u4f7f\u7528\u8bf4\u660e\u3002 \u8ba1\u8d39\u8bf4\u660e stable-diffusion\u5728\u8ba1\u7b97\u5de2\u4e0a\u7684\u8d39\u7528\u4e3b\u8981\u6d89\u53ca\uff1a \u6240\u9009vCPU\u4e0e\u5185\u5b58\u89c4\u683c \u78c1\u76d8\u5bb9\u91cf \u516c\u7f51\u5e26\u5bbd \u8ba1\u8d39\u65b9\u5f0f\u5305\u62ec\uff1a \u6309\u91cf\u4ed8\u8d39\uff08\u5c0f\u65f6\uff09 \u5305\u5e74\u5305\u6708 \u9884\u4f30\u8d39\u7528\u5728\u521b\u5efa\u5b9e\u4f8b\u65f6\u53ef\u5b9e\u65f6\u770b\u5230\u3002 \u90e8\u7f72\u67b6\u6784 stable-diffusion\u670d\u52a1\u5355\u673a\u90e8\u7f72\u67b6\u6784\u3002 RAM\u8d26\u53f7\u6240\u9700\u6743\u9650 stable-diffusion\u670d\u52a1\u9700\u8981\u5bf9ECS\u3001VPC\u7b49\u8d44\u6e90\u8fdb\u884c\u8bbf\u95ee\u548c\u521b\u5efa\u64cd\u4f5c\uff0c\u82e5\u60a8\u4f7f\u7528RAM\u7528\u6237\u521b\u5efa\u670d\u52a1\u5b9e\u4f8b\uff0c\u9700\u8981\u5728\u521b\u5efa\u670d\u52a1\u5b9e\u4f8b\u524d\uff0c\u5bf9\u4f7f\u7528\u7684RAM\u7528\u6237\u7684\u8d26\u53f7\u6dfb\u52a0\u76f8\u5e94\u8d44\u6e90\u7684\u6743\u9650\u3002\u6dfb\u52a0RAM\u6743\u9650\u7684\u8be6\u7ec6\u64cd\u4f5c\uff0c\u8bf7\u53c2\u89c1 \u4e3aRAM\u7528\u6237\u6388\u6743 \u3002\u6240\u9700\u6743\u9650\u5982\u4e0b\u8868\u6240\u793a\u3002 \u6743\u9650\u7b56\u7565\u540d\u79f0 \u5907\u6ce8 AliyunECSFullAccess \u7ba1\u7406\u4e91\u670d\u52a1\u5668\u670d\u52a1\uff08ECS\uff09\u7684\u6743\u9650 AliyunVPCFullAccess \u7ba1\u7406\u4e13\u6709\u7f51\u7edc\uff08VPC\uff09\u7684\u6743\u9650 AliyunROSFullAccess \u7ba1\u7406\u8d44\u6e90\u7f16\u6392\u670d\u52a1\uff08ROS\uff09\u7684\u6743\u9650 AliyunComputeNestUserFullAccess \u7ba1\u7406\u8ba1\u7b97\u5de2\u670d\u52a1\uff08ComputeNest\uff09\u7684\u7528\u6237\u4fa7\u6743\u9650 AliyunCloudMonitorFullAccess \u7ba1\u7406\u4e91\u76d1\u63a7\uff08CloudMonitor\uff09\u7684\u6743\u9650 \u90e8\u7f72\u6d41\u7a0b \u90e8\u7f72\u6b65\u9aa4 \u5355\u51fb \u90e8\u7f72\u94fe\u63a5 \uff0c\u8fdb\u5165\u670d\u52a1\u5b9e\u4f8b\u90e8\u7f72\u754c\u9762\uff0c\u6839\u636e\u754c\u9762\u63d0\u793a\uff0c\u586b\u5199\u53c2\u6570\u5b8c\u6210\u90e8\u7f72\u3002 \u90e8\u7f72\u53c2\u6570\u8bf4\u660e \u60a8\u5728\u521b\u5efa\u670d\u52a1\u5b9e\u4f8b\u7684\u8fc7\u7a0b\u4e2d\uff0c\u9700\u8981\u914d\u7f6e\u670d\u52a1\u5b9e\u4f8b\u4fe1\u606f\u3002\u4e0b\u6587\u4ecb\u7ecdstable-diffusion\u670d\u52a1\u5b9e\u4f8b\u8f93\u5165\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\u3002 \u53c2\u6570\u7ec4 \u53c2\u6570\u9879 \u793a\u4f8b \u8bf4\u660e \u670d\u52a1\u5b9e\u4f8b\u540d\u79f0 test \u5b9e\u4f8b\u7684\u540d\u79f0 \u5730\u57df \u534e\u4e1c1\uff08\u676d\u5dde\uff09 \u9009\u4e2d\u670d\u52a1\u5b9e\u4f8b\u7684\u5730\u57df\uff0c\u5efa\u8bae\u5c31\u8fd1\u9009\u4e2d\uff0c\u4ee5\u83b7\u53d6\u66f4\u597d\u7684\u7f51\u7edc\u5ef6\u65f6\u3002 \u53ef\u7528\u533a\u914d\u7f6e \u90e8\u7f72\u533a\u57df \u53ef\u7528\u533aI \u5730\u57df\u4e0b\u7684\u4e0d\u540c\u53ef\u7528\u533a\u57df \u4ed8\u8d39\u7c7b\u578b\u914d\u7f6e \u4ed8\u8d39\u7c7b\u578b \u6309\u91cf\u4ed8\u8d39 \u6216 \u5305\u5e74\u5305\u6708 ECS\u5b9e\u4f8b\u914d\u7f6e \u5b9e\u4f8b\u7c7b\u578b ecs.gn6i-c4g1.xlarge \u5b9e\u4f8b\u89c4\u683c\uff0c\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u9700\u6c42\u9009\u62e9 ECS\u5b9e\u4f8b\u914d\u7f6e \u5b9e\u4f8b\u5bc6\u7801 * * \u8bbe\u7f6e\u5b9e\u4f8b\u5bc6\u7801\u3002\u957f\u5ea68~30\u4e2a\u5b57\u7b26\uff0c\u5fc5\u987b\u5305\u542b\u4e09\u9879\uff08\u5927\u5199\u5b57\u6bcd\u3001\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u3001()`~!@#$%^&*-+={}[]:;'<>,.?/ \u4e2d\u7684\u7279\u6b8a\u7b26\u53f7\uff09 \u7f51\u7edc\u914d\u7f6e \u4e13\u6709\u7f51\u7edcIPv4\u7f51\u6bb5 192.168.0.0/16 VPC\u7684ip\u5730\u5740\u6bb5\u8303\u56f4 \u7f51\u7edc\u914d\u7f6e \u4ea4\u6362\u673a\u5b50\u7f51\u7f51\u6bb5 192.168.0.0/24 \u4ea4\u6362\u673a\u5b50\u7f51\u7f51\u6bb5 \u9a8c\u8bc1\u7ed3\u679c \u67e5\u770b\u670d\u52a1\u5b9e\u4f8b\u3002 \u670d\u52a1\u5b9e\u4f8b\u521b\u5efa\u6210\u529f\u540e\uff0c\u90e8\u7f72\u65f6\u95f4\u5927\u7ea6\u9700\u89812\u5206\u949f\u3002\u90e8\u7f72\u5b8c\u6210\u540e\uff0c\u9875\u9762\u4e0a\u53ef\u4ee5\u770b\u5230\u5bf9\u5e94\u7684\u670d\u52a1\u5b9e\u4f8b\u3002 \u901a\u8fc7\u5b89\u5168\u4ee3\u7406\u8bbf\u95eestable-diffusion \u5b8c\u6210\u9a8c\u8bc1\u540e\u5373\u53ef\u8bbf\u95ee\uff1a \u8bbe\u7f6e\u4e2d\u6587\u83dc\u5355 \u9009\u62e9\"setting\"\u4e14\u5de6\u4fa7\u9009\u62e9User Interface \u518d\u6b21\u9009\u62e9User Interface\u5e76\u70b9\u51fb\u3002 \u5b89\u88c5\u56fe\u793a\u7684\u4e09\u4e2a\u64cd\u4f5c\uff0c\u8bbe\u7f6e\u4e3a\u4e2d\u6587 \u4e0b\u8f7d\u6a21\u578b \u5982\u679c\u60a8\u7684\u673a\u5668\u90e8\u7f72\u5728\u56fd\u5185\uff0c\u8bf7\u4f7f\u7528\u8bf8\u5982Model Scope\uff0cliblib\u4e4b\u7c7b\u7684\u7f51\u7ad9\u4e0b\u8f7d\u6a21\u578b\uff0c\u907f\u514d\u88ab\u5899 OOS\u4e0b\u8f7d \u4ee5\u67d0\u6a21\u578b\u7f51\u7ad9\u63d0\u4f9b\u7684\u6a21\u578b\u4e3a\u4f8b\uff0c\u9996\u5148\u6b64\u6a21\u578b\u7f51\u7ad9\uff0c\u627e\u5230\u81ea\u5df1\u60f3\u8981\u4e0b\u8f7d\u7684\u6a21\u578b\uff08\u9884\u89c8\u56fe\u5de6\u4e0a\u89d2\u663e\u793a\u6a21\u578b\u7684\u7c7b\u578b\uff09 \u70b9\u51fb\u4e00\u4e2a\u6a21\u578b\u9884\u89c8\u56fe\u8fdb\u5165\u8be6\u60c5\u9875\uff0c\u627e\u5230Download\u6309\u94ae\u70b9\u51fb\u53f3\u952e\uff0c\u590d\u5236\u94fe\u63a5\u5730\u5740\uff1a \u5728\u8ba1\u7b97\u5de2\u63a7\u5236\u53f0\u70b9\u51fb\u8fd0\u7ef4\u7ba1\u7406\uff0c\u70b9\u51fb\u201c\u4e0b\u8f7d\u6a21\u578b\u201d\uff0c\u8f93\u5165\u76f8\u5173\u53c2\u6570\uff08\u9009\u62e9\u6a21\u578b\u6216\u9884\u89c8\u56fe\u3001\u6a21\u578b\u7c7b\u578b\u3001\u4e0b\u8f7d\u65b9\u5f0f\u3001\u6587\u4ef6\u7c7b\u578b\uff0c\u8f93\u5165\u6a21\u578b\u540d\u79f0\uff09\uff1a \u5728\u8ba1\u7b97\u5de2\u63a7\u5236\u53f0\u70b9\u51fb\u8fd0\u7ef4\u7ba1\u7406\uff0c\u70b9\u51fb\u201c\u4e0b\u8f7d\u6a21\u578b\u201d\uff0c\u8f93\u5165\u76f8\u5173\u53c2\u6570\uff08\u9009\u62e9\u6a21\u578b\u6216\u9884\u89c8\u56fe\u3001\u6a21\u578b\u7c7b\u578b\u3001\u4e0b\u8f7d\u65b9\u5f0f\u3001\u6587\u4ef6\u7c7b\u578b\uff0c\u8f93\u5165\u6a21\u578b\u540d\u79f0\uff09\uff1a CHECKPOINT\u6a21\u578b\u793a\u4f8b: Lora\u6a21\u578b\u793a\u4f8b: \u6ce8\u610f\uff1aCHECKPOINT\u3001LORA\u3001VAE\u4e09\u79cd\u65b9\u5f0f\u4e0d\u9700\u8981\u8f93\u5165\u5b58\u50a8\u76ee\u5f55\uff0c\u5176\u4ed6\u6a21\u578b\u53ef\u5728\u6a21\u578b\u7c7b\u578b\u9009\u62e9\u201cOTHER\u201d, \u81ea\u884c\u4fee\u6539\u6587\u4ef6\u5b58\u50a8\u76ee\u5f55: \u53c2\u6570\u8f93\u5165\u5b8c\u6210\u540e\uff0c\u70b9\u51fb\u4e0b\u4e00\u6b65,\u70b9\u51fb\u521b\u5efa\uff0c\u5f00\u59cb\u4e0b\u8f7d \u7b49\u5f85\u4e0b\u8f7d\u5b8c\u6210\uff08\u7b49\u5f85\u8fc7\u7a0b\u4e2d\u4e5f\u53ef\u4ee5\u7ee7\u7eed\u4e0b\u8f7d\u5176\u4ed6\u6a21\u578b\uff09\uff0c\u5f53\u6267\u884c\u72b6\u6001\u53d8\u4e3a\u6210\u529f\uff0c\u8868\u793a\u5df2\u7ecf\u4e0b\u8f7d\u5b8c\u6210 \u6b64\u65f6\u53ef\u4ee5\u767b\u5f55\u5230WebUI\u52a0\u8f7d\u4e0b\u8f7d\u7684\u6a21\u578b CHECKPOINT\u6a21\u578b\u793a\u4f8b\uff0c\u70b9\u51fb\u4e0a\u9762\u7684\u5237\u65b0\u6309\u94ae\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u521a\u521a\u4e0b\u8f7d\u7684CHECKPOINT\u6a21\u578b Lora\u6a21\u578b\u793a\u4f8b\uff0c\u70b9\u51fb\u53f3\u9762Lora\u6309\u94ae\uff0c\u7136\u540e\u70b9\u51fbRefresh\uff0c\u6b64\u65f6\u5c31\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u521a\u521a\u4e0b\u8f7d\u7684Lora\u6a21\u578b \u5728\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u76f4\u63a5\u4e0b\u8f7d\u6a21\u578b\u7684\u6ca1\u6709\u9884\u89c8\u56fe\u7684\uff0c\u6b64\u65f6\u53ef\u4ee5\u901a\u8fc7\u4e0a\u8ff0\u4e0b\u8f7d\u65b9\u5f0f\u81ea\u884c\u4e0a\u4f20\u4e00\u5f20\u56fe\u7247\u5230\u6a21\u578b\u6587\u4ef6\u4e2d\uff0c\u8fd9\u91cc\u4ee5\u4e0a\u4f20\u672c\u5730\u6587\u4ef6\u7684Lora\u6a21\u578b\u9884\u89c8\u56fe\u4e3a\u4f8b\u3002 \u4ee5\u6b64\u70b9\u51fb\u786e\u5b9a\u3001\u521b\u5efa\uff0c\u7b49\u5f85\u6267\u884c\u72b6\u6001\u53d8\u4e3a\u6210\u529f\u3002\u518d\u6b21\u70b9\u51fbRefresh,\u53ef\u4ee5\u770b\u5230\uff0c\u9884\u89c8\u56fe\u4e5f\u5df2\u7ecf\u52a0\u8f7d\u51fa\u6765\u5566\uff01 \u4e0b\u8f7d\u63d2\u4ef6 ** \u91cd\u8981** \uff1a\u5982\u679c\u60a8\u7684\u673a\u5668\u5982\u679c\u4e0d\u662f\u6d77\u5916\u673a\u5668\uff0c\u8bf7\u91c7\u7528Github\u955c\u50cf\u7f51\u7ad9\u7684\u4e0b\u8f7d\u94fe\u63a5\uff0c\u907f\u514d\u56e0\u88ab\u5899\u5bfc\u81f4\u63d2\u4ef6\u5b89\u88c5\u5931\u8d25\u3002 1. \u5728\u5982\u56fe\u6240\u793a\u83dc\u5355\u5904\u4e0b\u8f7d\u63d2\u4ef6\u3002 2. \u8282\u7ea6\u6210\u672c ECS\u8282\u7ea6\u6210\u672c GPU\u8d44\u6e90\u8d39\u7528\u8f83\u9ad8\uff0c\u4f7f\u7528\u5b8c\u6bd5\u540e\u53ef\u4ee5\u901a\u8fc7\u4e0b\u8ff0\u4e24\u79cd\u65b9\u5f0f\u6765\u8282\u7701\u6210\u672c\uff1a 1.\u82e5\u53ea\u662f\u6682\u65f6\u4e0d\u4f7f\u7528\u4e86\u53ef\u4ee5\u5728\u8fd0\u7ef4\u7ba1\u7406\u9875\u9762\u9009\u62e9\u5173\u673a\uff08\u8282\u7701\u505c\u673a\u6a21\u5f0f\uff09\u3010\u786e\u4fdd\u524d\u9762\u5feb\u901f\u542f\u52a8\u6b65\u9aa41\u4e2d\u9009\u62e9\u7684\u662f\u6309\u91cf\u4ed8\u8d39\u7c7b\u578b\u3011\uff0c\u6b64\u65f6\u90e8\u5206\u8d44\u6e90\u4f1a\u88ab\u56de\u6536\u5e76\u505c\u6b62\u6536\u8d39\uff0c\u4ee5\u964d\u4f4e\u76f8\u5173\u8d39\u7528\u3001\u8282\u7ea6\u4f7f\u7528\u6210\u672c\uff0c\u4e0b\u6b21\u4f7f\u7528\u518d\u8fdb\u884c\u5f00\u673a\uff0c\u64cd\u4f5c\u5982\u4e0b\uff1a \u5173\u673a\uff1a \u7b49\u5f85\u5173\u673a\u7ed3\u675f\uff1a \u5f00\u673a\uff1a \u7b49\u5f85\u5f00\u673a\u7ed3\u675f\uff1a 2.\u82e5\u5f7b\u5e95\u4e0d\u518d\u4f7f\u7528\u4e86\u53ef\u4ee5\u76f4\u63a5\u5c06\u670d\u52a1\u5b9e\u4f8b\u5220\u9664\uff0c\u540e\u7eed\u5c31\u4e0d\u4f1a\u518d\u4ea7\u751f\u8d39\u7528 API\u8bbf\u95ee \u901a\u8fc7\u8ba1\u7b97\u5de2\u521b\u5efa\u7684Stable Diffusion\u9ed8\u8ba4\u5f00\u542f\u4e86API\u8bbf\u95ee\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7API\u8c03\u7528\u6765\u66f4\u597d\u5730\u96c6\u6210\u6211\u4eec\u7684\u670d\u52a1\u3002 \u901a\u8fc7\u4e0a\u8ff0\u6b65\u9aa44\u4e2d\u83b7\u53d6\u7684Endpoint+/docs# \u53ef\u4ee5\u770b\u5230\u6240\u6709\u53ef\u8bbf\u95ee\u7684API\u5217\u8868\uff0c\u5982\u8bbf\u95ee http://48.xxx.xx.163:8080/docs# \u53ef\u4ee5\u770b\u5230 \u4ee5\u4e0b\u662f\u4e00\u4e2a\u901a\u8fc7Python\u8c03\u7528Stable Diffusion API\u7684\u793a\u4f8b\uff1a import requests import io import base64 from PIL import Image, PngImagePlugin if __name__ == '__main__': url = \"http://48.xxx.xx.163:8080\" payload = { \"prompt\": \"puppy dog\", \"steps\": 5 } token = \"admin:password\" encoded_token = base64.b64encode(token.encode(\"utf-8\")).decode(\"utf-8\") headers = { \"Content-Type\": \"application/json\", \"Authorization\": f'Basic {encoded_token}' } response = requests.post(url=f'{url}/sdapi/v1/txt2img', json=payload, headers=headers) r = response.json() for i in r['images']: image = Image.open(io.BytesIO(base64.b64decode(i.split(\",\", 1)[0]))) png_payload = { \"image\": \"data:image/png;base64,\" + i } response2 = requests.post(url=f'{url}/sdapi/v1/png-info', json=png_payload) pnginfo = PngImagePlugin.PngInfo() pnginfo.add_text(\"parameters\", response2.json().get(\"info\")) image.save('output.png', pnginfo=pnginfo) \u66f4\u591aAPI\u8bbf\u95ee\u4fe1\u606f\u53ef\u67e5\u770b API\u8bbf\u95ee\u5411\u5bfc \u4e86\u89e3 \u5e2e\u52a9\u6587\u6863 \u8bf7\u8bbf\u95ee stable-diffusion\u4f7f\u7528\u6587\u6863 \u4e86\u89e3\u5982\u4f55\u4f7f\u7528\u3002","title":"stable-diffusion\u670d\u52a1\u5b9e\u4f8b\u90e8\u7f72\u6587\u6863"},{"location":"#stable-diffusion","text":"\u514d\u8d23\u58f0\u660e\uff1a \u672c\u670d\u52a1\u7531\u7b2c\u4e09\u65b9\u63d0\u4f9b\uff0c\u6211\u4eec\u5c3d\u529b\u786e\u4fdd\u5176\u5b89\u5168\u6027\u3001\u51c6\u786e\u6027\u548c\u53ef\u9760\u6027\uff0c\u4f46\u65e0\u6cd5\u4fdd\u8bc1\u5176\u5b8c\u5168\u514d\u4e8e\u6545\u969c\u3001\u4e2d\u65ad\u3001\u9519\u8bef\u6216\u653b\u51fb\u3002\u56e0\u6b64\uff0c\u672c\u516c\u53f8\u5728\u6b64\u58f0\u660e\uff1a\u5bf9\u4e8e\u672c\u670d\u52a1\u7684\u5185\u5bb9\u3001\u51c6\u786e\u6027\u3001\u5b8c\u6574\u6027\u3001\u53ef\u9760\u6027\u3001\u9002\u7528\u6027\u4ee5\u53ca\u53ca\u65f6\u6027\u4e0d\u4f5c\u4efb\u4f55\u9648\u8ff0\u3001\u4fdd\u8bc1\u6216\u627f\u8bfa\uff0c\u4e0d\u5bf9\u60a8\u4f7f\u7528\u672c\u670d\u52a1\u6240\u4ea7\u751f\u7684\u4efb\u4f55\u76f4\u63a5\u6216\u95f4\u63a5\u7684\u635f\u5931\u6216\u635f\u5bb3\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\uff1b\u5bf9\u4e8e\u60a8\u901a\u8fc7\u672c\u670d\u52a1\u8bbf\u95ee\u7684\u7b2c\u4e09\u65b9\u7f51\u7ad9\u3001\u5e94\u7528\u7a0b\u5e8f\u3001\u4ea7\u54c1\u548c\u670d\u52a1\uff0c\u4e0d\u5bf9\u5176\u5185\u5bb9\u3001\u51c6\u786e\u6027\u3001\u5b8c\u6574\u6027\u3001\u53ef\u9760\u6027\u3001\u9002\u7528\u6027\u4ee5\u53ca\u53ca\u65f6\u6027\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\uff0c\u60a8\u5e94\u81ea\u884c\u627f\u62c5\u4f7f\u7528\u540e\u679c\u4ea7\u751f\u7684\u98ce\u9669\u548c\u8d23\u4efb\uff1b\u5bf9\u4e8e\u56e0\u60a8\u4f7f\u7528\u672c\u670d\u52a1\u800c\u4ea7\u751f\u7684\u4efb\u4f55\u635f\u5931\u3001\u635f\u5bb3\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u76f4\u63a5\u635f\u5931\u3001\u95f4\u63a5\u635f\u5931\u3001\u5229\u6da6\u635f\u5931\u3001\u5546\u8a89\u635f\u5931\u3001\u6570\u636e\u635f\u5931\u6216\u5176\u4ed6\u7ecf\u6d4e\u635f\u5931\uff0c\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\uff0c\u5373\u4f7f\u672c\u516c\u53f8\u4e8b\u5148\u5df2\u88ab\u544a\u77e5\u53ef\u80fd\u5b58\u5728\u6b64\u7c7b\u635f\u5931\u6216\u635f\u5bb3\u7684\u53ef\u80fd\u6027\uff1b\u6211\u4eec\u4fdd\u7559\u4e0d\u65f6\u4fee\u6539\u672c\u58f0\u660e\u7684\u6743\u5229\uff0c\u56e0\u6b64\u8bf7\u60a8\u5728\u4f7f\u7528\u672c\u670d\u52a1\u524d\u5b9a\u671f\u68c0\u67e5\u672c\u58f0\u660e\u3002\u5982\u679c\u60a8\u5bf9\u672c\u58f0\u660e\u6216\u672c\u670d\u52a1\u5b58\u5728\u4efb\u4f55\u95ee\u9898\u6216\u7591\u95ee\uff0c\u8bf7\u8054\u7cfb\u6211\u4eec\u3002","title":"stable-diffusion\u670d\u52a1\u5b9e\u4f8b\u90e8\u7f72\u6587\u6863"},{"location":"#_1","text":"Stable Diffusion Web UI \u662f\u4e00\u4e2a\u57fa\u4e8e Stable Diffusion \u7684\u57fa\u7840\u5e94\u7528\uff0c\u5229\u7528 gradio \u6a21\u5757\u642d\u5efa\u51fa\u4ea4\u4e92\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u5728\u4f4e\u4ee3\u7801 GUI \u4e2d\u7acb\u5373\u8bbf\u95ee Stable Diffusion\u3002\u5b83\u652f\u6301\u6587\u5b57\u751f\u6210\u56fe\u7247\uff0c\u56fe\u7247\u8f6c\u56fe\u7247\uff0c\u4f7f\u7528\u5404\u79cd\u5404\u6837\u7684\u6a21\u578b\u6765\u8fbe\u5230\u4f60\u60f3\u8981\u7684\u6548\u679c\uff0c\u8fd8\u80fd\u8bad\u7ec3\u81ea\u5df1\u7684\u4e13\u5c5e\u6a21\u578b\u3002\u672c\u6587\u5411\u60a8\u4ecb\u7ecd\u5982\u4f55\u5f00\u901a\u8ba1\u7b97\u5de2\u4e0a\u7684stable-diffusion\u670d\u52a1\uff0c\u4ee5\u53ca\u90e8\u7f72\u6d41\u7a0b\u548c\u4f7f\u7528\u8bf4\u660e\u3002","title":"\u6982\u8ff0"},{"location":"#_2","text":"stable-diffusion\u5728\u8ba1\u7b97\u5de2\u4e0a\u7684\u8d39\u7528\u4e3b\u8981\u6d89\u53ca\uff1a \u6240\u9009vCPU\u4e0e\u5185\u5b58\u89c4\u683c \u78c1\u76d8\u5bb9\u91cf \u516c\u7f51\u5e26\u5bbd \u8ba1\u8d39\u65b9\u5f0f\u5305\u62ec\uff1a \u6309\u91cf\u4ed8\u8d39\uff08\u5c0f\u65f6\uff09 \u5305\u5e74\u5305\u6708 \u9884\u4f30\u8d39\u7528\u5728\u521b\u5efa\u5b9e\u4f8b\u65f6\u53ef\u5b9e\u65f6\u770b\u5230\u3002","title":"\u8ba1\u8d39\u8bf4\u660e"},{"location":"#_3","text":"stable-diffusion\u670d\u52a1\u5355\u673a\u90e8\u7f72\u67b6\u6784\u3002","title":"\u90e8\u7f72\u67b6\u6784"},{"location":"#ram","text":"stable-diffusion\u670d\u52a1\u9700\u8981\u5bf9ECS\u3001VPC\u7b49\u8d44\u6e90\u8fdb\u884c\u8bbf\u95ee\u548c\u521b\u5efa\u64cd\u4f5c\uff0c\u82e5\u60a8\u4f7f\u7528RAM\u7528\u6237\u521b\u5efa\u670d\u52a1\u5b9e\u4f8b\uff0c\u9700\u8981\u5728\u521b\u5efa\u670d\u52a1\u5b9e\u4f8b\u524d\uff0c\u5bf9\u4f7f\u7528\u7684RAM\u7528\u6237\u7684\u8d26\u53f7\u6dfb\u52a0\u76f8\u5e94\u8d44\u6e90\u7684\u6743\u9650\u3002\u6dfb\u52a0RAM\u6743\u9650\u7684\u8be6\u7ec6\u64cd\u4f5c\uff0c\u8bf7\u53c2\u89c1 \u4e3aRAM\u7528\u6237\u6388\u6743 \u3002\u6240\u9700\u6743\u9650\u5982\u4e0b\u8868\u6240\u793a\u3002 \u6743\u9650\u7b56\u7565\u540d\u79f0 \u5907\u6ce8 AliyunECSFullAccess \u7ba1\u7406\u4e91\u670d\u52a1\u5668\u670d\u52a1\uff08ECS\uff09\u7684\u6743\u9650 AliyunVPCFullAccess \u7ba1\u7406\u4e13\u6709\u7f51\u7edc\uff08VPC\uff09\u7684\u6743\u9650 AliyunROSFullAccess \u7ba1\u7406\u8d44\u6e90\u7f16\u6392\u670d\u52a1\uff08ROS\uff09\u7684\u6743\u9650 AliyunComputeNestUserFullAccess \u7ba1\u7406\u8ba1\u7b97\u5de2\u670d\u52a1\uff08ComputeNest\uff09\u7684\u7528\u6237\u4fa7\u6743\u9650 AliyunCloudMonitorFullAccess \u7ba1\u7406\u4e91\u76d1\u63a7\uff08CloudMonitor\uff09\u7684\u6743\u9650","title":"RAM\u8d26\u53f7\u6240\u9700\u6743\u9650"},{"location":"#_4","text":"","title":"\u90e8\u7f72\u6d41\u7a0b"},{"location":"#_5","text":"\u5355\u51fb \u90e8\u7f72\u94fe\u63a5 \uff0c\u8fdb\u5165\u670d\u52a1\u5b9e\u4f8b\u90e8\u7f72\u754c\u9762\uff0c\u6839\u636e\u754c\u9762\u63d0\u793a\uff0c\u586b\u5199\u53c2\u6570\u5b8c\u6210\u90e8\u7f72\u3002","title":"\u90e8\u7f72\u6b65\u9aa4"},{"location":"#_6","text":"\u60a8\u5728\u521b\u5efa\u670d\u52a1\u5b9e\u4f8b\u7684\u8fc7\u7a0b\u4e2d\uff0c\u9700\u8981\u914d\u7f6e\u670d\u52a1\u5b9e\u4f8b\u4fe1\u606f\u3002\u4e0b\u6587\u4ecb\u7ecdstable-diffusion\u670d\u52a1\u5b9e\u4f8b\u8f93\u5165\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\u3002 \u53c2\u6570\u7ec4 \u53c2\u6570\u9879 \u793a\u4f8b \u8bf4\u660e \u670d\u52a1\u5b9e\u4f8b\u540d\u79f0 test \u5b9e\u4f8b\u7684\u540d\u79f0 \u5730\u57df \u534e\u4e1c1\uff08\u676d\u5dde\uff09 \u9009\u4e2d\u670d\u52a1\u5b9e\u4f8b\u7684\u5730\u57df\uff0c\u5efa\u8bae\u5c31\u8fd1\u9009\u4e2d\uff0c\u4ee5\u83b7\u53d6\u66f4\u597d\u7684\u7f51\u7edc\u5ef6\u65f6\u3002 \u53ef\u7528\u533a\u914d\u7f6e \u90e8\u7f72\u533a\u57df \u53ef\u7528\u533aI \u5730\u57df\u4e0b\u7684\u4e0d\u540c\u53ef\u7528\u533a\u57df \u4ed8\u8d39\u7c7b\u578b\u914d\u7f6e \u4ed8\u8d39\u7c7b\u578b \u6309\u91cf\u4ed8\u8d39 \u6216 \u5305\u5e74\u5305\u6708 ECS\u5b9e\u4f8b\u914d\u7f6e \u5b9e\u4f8b\u7c7b\u578b ecs.gn6i-c4g1.xlarge \u5b9e\u4f8b\u89c4\u683c\uff0c\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u9700\u6c42\u9009\u62e9 ECS\u5b9e\u4f8b\u914d\u7f6e \u5b9e\u4f8b\u5bc6\u7801 * * \u8bbe\u7f6e\u5b9e\u4f8b\u5bc6\u7801\u3002\u957f\u5ea68~30\u4e2a\u5b57\u7b26\uff0c\u5fc5\u987b\u5305\u542b\u4e09\u9879\uff08\u5927\u5199\u5b57\u6bcd\u3001\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u3001()`~!@#$%^&*-+={}[]:;'<>,.?/ \u4e2d\u7684\u7279\u6b8a\u7b26\u53f7\uff09 \u7f51\u7edc\u914d\u7f6e \u4e13\u6709\u7f51\u7edcIPv4\u7f51\u6bb5 192.168.0.0/16 VPC\u7684ip\u5730\u5740\u6bb5\u8303\u56f4 \u7f51\u7edc\u914d\u7f6e \u4ea4\u6362\u673a\u5b50\u7f51\u7f51\u6bb5 192.168.0.0/24 \u4ea4\u6362\u673a\u5b50\u7f51\u7f51\u6bb5","title":"\u90e8\u7f72\u53c2\u6570\u8bf4\u660e"},{"location":"#_7","text":"\u67e5\u770b\u670d\u52a1\u5b9e\u4f8b\u3002 \u670d\u52a1\u5b9e\u4f8b\u521b\u5efa\u6210\u529f\u540e\uff0c\u90e8\u7f72\u65f6\u95f4\u5927\u7ea6\u9700\u89812\u5206\u949f\u3002\u90e8\u7f72\u5b8c\u6210\u540e\uff0c\u9875\u9762\u4e0a\u53ef\u4ee5\u770b\u5230\u5bf9\u5e94\u7684\u670d\u52a1\u5b9e\u4f8b\u3002 \u901a\u8fc7\u5b89\u5168\u4ee3\u7406\u8bbf\u95eestable-diffusion \u5b8c\u6210\u9a8c\u8bc1\u540e\u5373\u53ef\u8bbf\u95ee\uff1a","title":"\u9a8c\u8bc1\u7ed3\u679c"},{"location":"#_8","text":"\u9009\u62e9\"setting\"\u4e14\u5de6\u4fa7\u9009\u62e9User Interface \u518d\u6b21\u9009\u62e9User Interface\u5e76\u70b9\u51fb\u3002 \u5b89\u88c5\u56fe\u793a\u7684\u4e09\u4e2a\u64cd\u4f5c\uff0c\u8bbe\u7f6e\u4e3a\u4e2d\u6587","title":"\u8bbe\u7f6e\u4e2d\u6587\u83dc\u5355"},{"location":"#_9","text":"\u5982\u679c\u60a8\u7684\u673a\u5668\u90e8\u7f72\u5728\u56fd\u5185\uff0c\u8bf7\u4f7f\u7528\u8bf8\u5982Model Scope\uff0cliblib\u4e4b\u7c7b\u7684\u7f51\u7ad9\u4e0b\u8f7d\u6a21\u578b\uff0c\u907f\u514d\u88ab\u5899","title":"\u4e0b\u8f7d\u6a21\u578b"},{"location":"#oos","text":"\u4ee5\u67d0\u6a21\u578b\u7f51\u7ad9\u63d0\u4f9b\u7684\u6a21\u578b\u4e3a\u4f8b\uff0c\u9996\u5148\u6b64\u6a21\u578b\u7f51\u7ad9\uff0c\u627e\u5230\u81ea\u5df1\u60f3\u8981\u4e0b\u8f7d\u7684\u6a21\u578b\uff08\u9884\u89c8\u56fe\u5de6\u4e0a\u89d2\u663e\u793a\u6a21\u578b\u7684\u7c7b\u578b\uff09 \u70b9\u51fb\u4e00\u4e2a\u6a21\u578b\u9884\u89c8\u56fe\u8fdb\u5165\u8be6\u60c5\u9875\uff0c\u627e\u5230Download\u6309\u94ae\u70b9\u51fb\u53f3\u952e\uff0c\u590d\u5236\u94fe\u63a5\u5730\u5740\uff1a \u5728\u8ba1\u7b97\u5de2\u63a7\u5236\u53f0\u70b9\u51fb\u8fd0\u7ef4\u7ba1\u7406\uff0c\u70b9\u51fb\u201c\u4e0b\u8f7d\u6a21\u578b\u201d\uff0c\u8f93\u5165\u76f8\u5173\u53c2\u6570\uff08\u9009\u62e9\u6a21\u578b\u6216\u9884\u89c8\u56fe\u3001\u6a21\u578b\u7c7b\u578b\u3001\u4e0b\u8f7d\u65b9\u5f0f\u3001\u6587\u4ef6\u7c7b\u578b\uff0c\u8f93\u5165\u6a21\u578b\u540d\u79f0\uff09\uff1a \u5728\u8ba1\u7b97\u5de2\u63a7\u5236\u53f0\u70b9\u51fb\u8fd0\u7ef4\u7ba1\u7406\uff0c\u70b9\u51fb\u201c\u4e0b\u8f7d\u6a21\u578b\u201d\uff0c\u8f93\u5165\u76f8\u5173\u53c2\u6570\uff08\u9009\u62e9\u6a21\u578b\u6216\u9884\u89c8\u56fe\u3001\u6a21\u578b\u7c7b\u578b\u3001\u4e0b\u8f7d\u65b9\u5f0f\u3001\u6587\u4ef6\u7c7b\u578b\uff0c\u8f93\u5165\u6a21\u578b\u540d\u79f0\uff09\uff1a CHECKPOINT\u6a21\u578b\u793a\u4f8b: Lora\u6a21\u578b\u793a\u4f8b: \u6ce8\u610f\uff1aCHECKPOINT\u3001LORA\u3001VAE\u4e09\u79cd\u65b9\u5f0f\u4e0d\u9700\u8981\u8f93\u5165\u5b58\u50a8\u76ee\u5f55\uff0c\u5176\u4ed6\u6a21\u578b\u53ef\u5728\u6a21\u578b\u7c7b\u578b\u9009\u62e9\u201cOTHER\u201d, \u81ea\u884c\u4fee\u6539\u6587\u4ef6\u5b58\u50a8\u76ee\u5f55: \u53c2\u6570\u8f93\u5165\u5b8c\u6210\u540e\uff0c\u70b9\u51fb\u4e0b\u4e00\u6b65,\u70b9\u51fb\u521b\u5efa\uff0c\u5f00\u59cb\u4e0b\u8f7d \u7b49\u5f85\u4e0b\u8f7d\u5b8c\u6210\uff08\u7b49\u5f85\u8fc7\u7a0b\u4e2d\u4e5f\u53ef\u4ee5\u7ee7\u7eed\u4e0b\u8f7d\u5176\u4ed6\u6a21\u578b\uff09\uff0c\u5f53\u6267\u884c\u72b6\u6001\u53d8\u4e3a\u6210\u529f\uff0c\u8868\u793a\u5df2\u7ecf\u4e0b\u8f7d\u5b8c\u6210 \u6b64\u65f6\u53ef\u4ee5\u767b\u5f55\u5230WebUI\u52a0\u8f7d\u4e0b\u8f7d\u7684\u6a21\u578b CHECKPOINT\u6a21\u578b\u793a\u4f8b\uff0c\u70b9\u51fb\u4e0a\u9762\u7684\u5237\u65b0\u6309\u94ae\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u521a\u521a\u4e0b\u8f7d\u7684CHECKPOINT\u6a21\u578b Lora\u6a21\u578b\u793a\u4f8b\uff0c\u70b9\u51fb\u53f3\u9762Lora\u6309\u94ae\uff0c\u7136\u540e\u70b9\u51fbRefresh\uff0c\u6b64\u65f6\u5c31\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u521a\u521a\u4e0b\u8f7d\u7684Lora\u6a21\u578b \u5728\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u76f4\u63a5\u4e0b\u8f7d\u6a21\u578b\u7684\u6ca1\u6709\u9884\u89c8\u56fe\u7684\uff0c\u6b64\u65f6\u53ef\u4ee5\u901a\u8fc7\u4e0a\u8ff0\u4e0b\u8f7d\u65b9\u5f0f\u81ea\u884c\u4e0a\u4f20\u4e00\u5f20\u56fe\u7247\u5230\u6a21\u578b\u6587\u4ef6\u4e2d\uff0c\u8fd9\u91cc\u4ee5\u4e0a\u4f20\u672c\u5730\u6587\u4ef6\u7684Lora\u6a21\u578b\u9884\u89c8\u56fe\u4e3a\u4f8b\u3002 \u4ee5\u6b64\u70b9\u51fb\u786e\u5b9a\u3001\u521b\u5efa\uff0c\u7b49\u5f85\u6267\u884c\u72b6\u6001\u53d8\u4e3a\u6210\u529f\u3002\u518d\u6b21\u70b9\u51fbRefresh,\u53ef\u4ee5\u770b\u5230\uff0c\u9884\u89c8\u56fe\u4e5f\u5df2\u7ecf\u52a0\u8f7d\u51fa\u6765\u5566\uff01","title":"OOS\u4e0b\u8f7d"},{"location":"#_10","text":"** \u91cd\u8981** \uff1a\u5982\u679c\u60a8\u7684\u673a\u5668\u5982\u679c\u4e0d\u662f\u6d77\u5916\u673a\u5668\uff0c\u8bf7\u91c7\u7528Github\u955c\u50cf\u7f51\u7ad9\u7684\u4e0b\u8f7d\u94fe\u63a5\uff0c\u907f\u514d\u56e0\u88ab\u5899\u5bfc\u81f4\u63d2\u4ef6\u5b89\u88c5\u5931\u8d25\u3002 1. \u5728\u5982\u56fe\u6240\u793a\u83dc\u5355\u5904\u4e0b\u8f7d\u63d2\u4ef6\u3002 2.","title":"\u4e0b\u8f7d\u63d2\u4ef6"},{"location":"#_11","text":"","title":"\u8282\u7ea6\u6210\u672c"},{"location":"#ecs","text":"GPU\u8d44\u6e90\u8d39\u7528\u8f83\u9ad8\uff0c\u4f7f\u7528\u5b8c\u6bd5\u540e\u53ef\u4ee5\u901a\u8fc7\u4e0b\u8ff0\u4e24\u79cd\u65b9\u5f0f\u6765\u8282\u7701\u6210\u672c\uff1a 1.\u82e5\u53ea\u662f\u6682\u65f6\u4e0d\u4f7f\u7528\u4e86\u53ef\u4ee5\u5728\u8fd0\u7ef4\u7ba1\u7406\u9875\u9762\u9009\u62e9\u5173\u673a\uff08\u8282\u7701\u505c\u673a\u6a21\u5f0f\uff09\u3010\u786e\u4fdd\u524d\u9762\u5feb\u901f\u542f\u52a8\u6b65\u9aa41\u4e2d\u9009\u62e9\u7684\u662f\u6309\u91cf\u4ed8\u8d39\u7c7b\u578b\u3011\uff0c\u6b64\u65f6\u90e8\u5206\u8d44\u6e90\u4f1a\u88ab\u56de\u6536\u5e76\u505c\u6b62\u6536\u8d39\uff0c\u4ee5\u964d\u4f4e\u76f8\u5173\u8d39\u7528\u3001\u8282\u7ea6\u4f7f\u7528\u6210\u672c\uff0c\u4e0b\u6b21\u4f7f\u7528\u518d\u8fdb\u884c\u5f00\u673a\uff0c\u64cd\u4f5c\u5982\u4e0b\uff1a \u5173\u673a\uff1a \u7b49\u5f85\u5173\u673a\u7ed3\u675f\uff1a \u5f00\u673a\uff1a \u7b49\u5f85\u5f00\u673a\u7ed3\u675f\uff1a 2.\u82e5\u5f7b\u5e95\u4e0d\u518d\u4f7f\u7528\u4e86\u53ef\u4ee5\u76f4\u63a5\u5c06\u670d\u52a1\u5b9e\u4f8b\u5220\u9664\uff0c\u540e\u7eed\u5c31\u4e0d\u4f1a\u518d\u4ea7\u751f\u8d39\u7528","title":"ECS\u8282\u7ea6\u6210\u672c"},{"location":"#api","text":"\u901a\u8fc7\u8ba1\u7b97\u5de2\u521b\u5efa\u7684Stable Diffusion\u9ed8\u8ba4\u5f00\u542f\u4e86API\u8bbf\u95ee\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7API\u8c03\u7528\u6765\u66f4\u597d\u5730\u96c6\u6210\u6211\u4eec\u7684\u670d\u52a1\u3002 \u901a\u8fc7\u4e0a\u8ff0\u6b65\u9aa44\u4e2d\u83b7\u53d6\u7684Endpoint+/docs# \u53ef\u4ee5\u770b\u5230\u6240\u6709\u53ef\u8bbf\u95ee\u7684API\u5217\u8868\uff0c\u5982\u8bbf\u95ee http://48.xxx.xx.163:8080/docs# \u53ef\u4ee5\u770b\u5230 \u4ee5\u4e0b\u662f\u4e00\u4e2a\u901a\u8fc7Python\u8c03\u7528Stable Diffusion API\u7684\u793a\u4f8b\uff1a import requests import io import base64 from PIL import Image, PngImagePlugin if __name__ == '__main__': url = \"http://48.xxx.xx.163:8080\" payload = { \"prompt\": \"puppy dog\", \"steps\": 5 } token = \"admin:password\" encoded_token = base64.b64encode(token.encode(\"utf-8\")).decode(\"utf-8\") headers = { \"Content-Type\": \"application/json\", \"Authorization\": f'Basic {encoded_token}' } response = requests.post(url=f'{url}/sdapi/v1/txt2img', json=payload, headers=headers) r = response.json() for i in r['images']: image = Image.open(io.BytesIO(base64.b64decode(i.split(\",\", 1)[0]))) png_payload = { \"image\": \"data:image/png;base64,\" + i } response2 = requests.post(url=f'{url}/sdapi/v1/png-info', json=png_payload) pnginfo = PngImagePlugin.PngInfo() pnginfo.add_text(\"parameters\", response2.json().get(\"info\")) image.save('output.png', pnginfo=pnginfo) \u66f4\u591aAPI\u8bbf\u95ee\u4fe1\u606f\u53ef\u67e5\u770b API\u8bbf\u95ee\u5411\u5bfc \u4e86\u89e3","title":"API\u8bbf\u95ee"},{"location":"#_12","text":"\u8bf7\u8bbf\u95ee stable-diffusion\u4f7f\u7528\u6587\u6863 \u4e86\u89e3\u5982\u4f55\u4f7f\u7528\u3002","title":"\u5e2e\u52a9\u6587\u6863"},{"location":"index-en/","text":"stable-diffusion service instance deployment documentation Disclaimer: This service is provided by a third party. We try our best to ensure its safety, accuracy and reliability, but we cannot guarantee that it is completely free from failures, interruptions, errors or attacks. Therefore, the company hereby declares that it makes no representations, warranties or commitments regarding the content, accuracy, completeness, reliability, suitability and timeliness of the Service and is not liable for any direct or indirect loss or damage arising from your use of the Service; for third-party websites, applications, products and services that you access through the Service, do not assume any responsibility for its content, accuracy, completeness, reliability, applicability and timeliness, and you shall bear the risks and responsibilities of the consequences of use; for any loss or damage arising from your use of this service, including but not limited to direct loss, indirect loss, loss of profits, loss of goodwill, loss of data or other economic losses, even if we have been advised in advance of the possibility of such loss or damage; we reserve the right to amend this statement from time to time, so please check this statement regularly before using the Service. If you have any questions or concerns about this Statement or the Service, please contact us. Overview The Stable Diffusion Web UI is a basic application based on the Stable Diffusion. It uses the gradient module to build an interactive program that can immediately access the Stable Diffusion in a low-code GUI. It supports text to generate pictures, pictures to pictures, uses a variety of models to achieve the effect you want, and can train your own exclusive model. this topic describes how to activate the stable-diffusion service on the computing nest, as well as the deployment process and usage instructions. Billing Description The cost of stable-diffusion on computing nests is mainly related: -Selected vCPU and memory specifications -Disk Capacity -public network bandwidth Billing methods include: -Pay-As-You-Go (hours) -Package year and package month The estimated cost can be seen in real time when the instance is created. Deployment Architecture stable-diffusion service single-machine deployment architecture. Permissions required for RAM accounts The stable-diffusion service needs to access and create resources such as ECS and VPC. If you use a RAM user to create a service instance, you need to add the corresponding resource permissions to the account of the RAM user before creating the service instance. For details about how to add RAM permissions, see Authorize RAM users . The required permissions are shown in the following table. Permission policy name Comment AliyunECSFullAccess Permissions for managing ECS instances AliyunVPCFullAccess Permissions to manage a VPC AliyunROSFullAccess Manage permissions for Resource Orchestration Service (ROS) AliyunComputeNestUserFullAccess Manage user-side permissions for the compute nest service (ComputeNest) AliyunCloudMonitorFullAccess Permissions to manage CloudMonitor (CloudMonitor) Deployment process Deployment steps Click Deployment Link to enter the service instance deployment page, and fill in the parameters according to the interface prompts to complete the deployment. Deployment parameter description When you create a service instance, you need to configure the service instance information. The following describes the details of the stable-diffusion service instance input parameter. Parameter group Parameter item Example Description Service instance name test Instance name Region China (Hangzhou) Select the region of the service instance. We recommend that you select the region nearby to obtain better network latency. Availability Zone Configuration Deployment Region Zone I Different Availability Zones in a Region Payment Type Configuration Payment Type Pay-As-You-Go or Subscription ECS instance configuration Instance type ecs.gn6i-c4g1.xlarge Instance type, which can be selected according to actual needs ECS instance configuration Instance password * * Set the instance password. It must be 8 to 30 characters in length and must contain three items (uppercase letters, lowercase letters, numbers, ()'~!@#$%^& *-+ ={}[]:;' <>,.?/special symbols) Network configuration VPC IPv4 CIDR block 192.168.0.0/16 IP address range of VPC Network configuration Switch subnet segment 192.168.0.0/24 Switch subnet segment Validation Results View the service instance. After the service instance is created successfully, the deployment time takes about 2 minutes. After the deployment is complete, the corresponding service instance is displayed on the page. Access stable-diffusion through a security proxy. After completing the verification, you can access: Set Chinese menu Select \"setting\" and select the User Interface on the left Select the User Interface again and click. The three operations shown in the installation diagram are set to Chinese Download model If your machine is deployed in China, please use websites such as Model Scope,liblib to download the model and avoid being blocked by the wall. OOS Download Take the model provided by a model website as an example. First, this model website finds the model you want to download (the type of model is displayed in the upper left corner of the preview) Click a model preview to enter the details page, find the Download button, right-click, and copy the link address: Click Operation and Maintenance Management in the Computing Nest console, click Download Model, and enter the relevant parameters (select the model or preview, model type, download method, file type, and enter the model name): Click Operation and Maintenance Management in the Computing Nest console, click Download Model, and enter the relevant parameters (select the model or preview, model type, download method, file type, and enter the model name): -CHECKPOINT model example: -Lora model example: -Note: You do not need to enter a storage directory for the CHECKPOINT, LORA, and VAE modes. For other models, you can select OTHER in the model type and modify the file storage directory by yourself: After the parameter input is completed, click Next and click Create to start downloading Wait for the download to complete (you can also continue to download other models during the waiting process). When the execution status changes to success, it means that the download has been completed. At this time, you can log in to the WebUI to load the downloaded model. -CHECKPOINT the model example, click the refresh button above, you can see the CHECKPOINT model we just downloaded -Lora model example, click the Lora button on the right, and then click Refresh to see the Lora model we just downloaded. We can see here that if there is no preview of the model downloaded directly, we can upload a picture to the model file by ourselves through the above download method. Here, we upload the Lora model preview of the local file as an example. Click OK, Create, and wait for the execution status to become successful. Click on the Refresh again and you can see that the preview has been loaded! Download the plug-in Important : If your machine is not an overseas machine, please use the download link of Github mirror website to avoid plug-in installation failure caused by the wall. 1. Download the plug-in from the menu shown in the figure. 2. Cost savings ECS Cost Savings GPU resources are expensive and can be used to save costs in the following two ways: 1. If you do not use it for the time being, you can select shutdown (save shutdown mode) on the operation and maintenance management page [ensure that the pay-as-you-go type is selected in the previous quick start step 1]. At this time, some resources will be recovered and charging will be stopped to reduce related costs and save usage costs. The next time you use it, start it again. The operation is as follows: -Shutdown: -Wait for shutdown to end: -Power on: -Wait for end of boot: 2. If the service instance is no longer used completely, the service instance can be deleted directly, and no further expenses will be incurred in the future. API Access Stable Diffusion created through the computing nest enable API access by default. You can use API calls to better integrate our services. You can view the list of all accessible APIs, such as access http://48.xxx.xx, from the Endpoint /docs# obtained in Step 4. 163:8080/docs# can be seen The following is an example of calling the Stable Diffusion API from Python: ''' import requests import io import base64 from PIL import Image, PngImagePlugin if name == ' main ': url = \"http://48.xxx.xx. 163:8080\" payload = { \"prompt\": \"puppy dog \", \"steps\": 5 } token = \"admin:password\" encoded_token = base64.b64encode(token.encode(\"utf-8\")).decode(\"utf-8\") headers = { \"Content-Type\": \"application/json \", \"Authorization\": f'Basic {encoded_token}' } response = requests.post(url=f'{url}/sdapi/v1/txt2img', json=payload, headers=headers) r = response.json() for I in r['images']: image = Image.open(io.BytesIO(base64.b64decode( I .split(\",\", 1)[0]))) png_payload = { \"image\": \"data:image/png;base64,\" I } response2 = requests.post(url=f'{url}/sdapi/v1/png-info', json=png_payload) pnginfo = PngImagePlugin.PngInfo() pnginfo.add_text(\"parameters\", response2.json().get(\"info\")) image.save('output.png', pnginfo=pnginfo) ''' For more information about API access, see the API Access Wizard Help documentation Please visit stable-diffusion Usage Documentation to learn how to use.","title":"stable-diffusion service instance deployment documentation"},{"location":"index-en/#stable-diffusion-service-instance-deployment-documentation","text":"Disclaimer: This service is provided by a third party. We try our best to ensure its safety, accuracy and reliability, but we cannot guarantee that it is completely free from failures, interruptions, errors or attacks. Therefore, the company hereby declares that it makes no representations, warranties or commitments regarding the content, accuracy, completeness, reliability, suitability and timeliness of the Service and is not liable for any direct or indirect loss or damage arising from your use of the Service; for third-party websites, applications, products and services that you access through the Service, do not assume any responsibility for its content, accuracy, completeness, reliability, applicability and timeliness, and you shall bear the risks and responsibilities of the consequences of use; for any loss or damage arising from your use of this service, including but not limited to direct loss, indirect loss, loss of profits, loss of goodwill, loss of data or other economic losses, even if we have been advised in advance of the possibility of such loss or damage; we reserve the right to amend this statement from time to time, so please check this statement regularly before using the Service. If you have any questions or concerns about this Statement or the Service, please contact us.","title":"stable-diffusion service instance deployment documentation"},{"location":"index-en/#overview","text":"The Stable Diffusion Web UI is a basic application based on the Stable Diffusion. It uses the gradient module to build an interactive program that can immediately access the Stable Diffusion in a low-code GUI. It supports text to generate pictures, pictures to pictures, uses a variety of models to achieve the effect you want, and can train your own exclusive model. this topic describes how to activate the stable-diffusion service on the computing nest, as well as the deployment process and usage instructions.","title":"Overview"},{"location":"index-en/#billing-description","text":"The cost of stable-diffusion on computing nests is mainly related: -Selected vCPU and memory specifications -Disk Capacity -public network bandwidth Billing methods include: -Pay-As-You-Go (hours) -Package year and package month The estimated cost can be seen in real time when the instance is created.","title":"Billing Description"},{"location":"index-en/#deployment-architecture","text":"stable-diffusion service single-machine deployment architecture.","title":"Deployment Architecture"},{"location":"index-en/#permissions-required-for-ram-accounts","text":"The stable-diffusion service needs to access and create resources such as ECS and VPC. If you use a RAM user to create a service instance, you need to add the corresponding resource permissions to the account of the RAM user before creating the service instance. For details about how to add RAM permissions, see Authorize RAM users . The required permissions are shown in the following table. Permission policy name Comment AliyunECSFullAccess Permissions for managing ECS instances AliyunVPCFullAccess Permissions to manage a VPC AliyunROSFullAccess Manage permissions for Resource Orchestration Service (ROS) AliyunComputeNestUserFullAccess Manage user-side permissions for the compute nest service (ComputeNest) AliyunCloudMonitorFullAccess Permissions to manage CloudMonitor (CloudMonitor)","title":"Permissions required for RAM accounts"},{"location":"index-en/#deployment-process","text":"","title":"Deployment process"},{"location":"index-en/#deployment-steps","text":"Click Deployment Link to enter the service instance deployment page, and fill in the parameters according to the interface prompts to complete the deployment.","title":"Deployment steps"},{"location":"index-en/#deployment-parameter-description","text":"When you create a service instance, you need to configure the service instance information. The following describes the details of the stable-diffusion service instance input parameter. Parameter group Parameter item Example Description Service instance name test Instance name Region China (Hangzhou) Select the region of the service instance. We recommend that you select the region nearby to obtain better network latency. Availability Zone Configuration Deployment Region Zone I Different Availability Zones in a Region Payment Type Configuration Payment Type Pay-As-You-Go or Subscription ECS instance configuration Instance type ecs.gn6i-c4g1.xlarge Instance type, which can be selected according to actual needs ECS instance configuration Instance password * * Set the instance password. It must be 8 to 30 characters in length and must contain three items (uppercase letters, lowercase letters, numbers, ()'~!@#$%^& *-+ ={}[]:;' <>,.?/special symbols) Network configuration VPC IPv4 CIDR block 192.168.0.0/16 IP address range of VPC Network configuration Switch subnet segment 192.168.0.0/24 Switch subnet segment","title":"Deployment parameter description"},{"location":"index-en/#validation-results","text":"View the service instance. After the service instance is created successfully, the deployment time takes about 2 minutes. After the deployment is complete, the corresponding service instance is displayed on the page. Access stable-diffusion through a security proxy. After completing the verification, you can access:","title":"Validation Results"},{"location":"index-en/#set-chinese-menu","text":"Select \"setting\" and select the User Interface on the left Select the User Interface again and click. The three operations shown in the installation diagram are set to Chinese","title":"Set Chinese menu"},{"location":"index-en/#download-model","text":"If your machine is deployed in China, please use websites such as Model Scope,liblib to download the model and avoid being blocked by the wall.","title":"Download model"},{"location":"index-en/#oos-download","text":"Take the model provided by a model website as an example. First, this model website finds the model you want to download (the type of model is displayed in the upper left corner of the preview) Click a model preview to enter the details page, find the Download button, right-click, and copy the link address: Click Operation and Maintenance Management in the Computing Nest console, click Download Model, and enter the relevant parameters (select the model or preview, model type, download method, file type, and enter the model name): Click Operation and Maintenance Management in the Computing Nest console, click Download Model, and enter the relevant parameters (select the model or preview, model type, download method, file type, and enter the model name): -CHECKPOINT model example: -Lora model example: -Note: You do not need to enter a storage directory for the CHECKPOINT, LORA, and VAE modes. For other models, you can select OTHER in the model type and modify the file storage directory by yourself: After the parameter input is completed, click Next and click Create to start downloading Wait for the download to complete (you can also continue to download other models during the waiting process). When the execution status changes to success, it means that the download has been completed. At this time, you can log in to the WebUI to load the downloaded model. -CHECKPOINT the model example, click the refresh button above, you can see the CHECKPOINT model we just downloaded -Lora model example, click the Lora button on the right, and then click Refresh to see the Lora model we just downloaded. We can see here that if there is no preview of the model downloaded directly, we can upload a picture to the model file by ourselves through the above download method. Here, we upload the Lora model preview of the local file as an example. Click OK, Create, and wait for the execution status to become successful. Click on the Refresh again and you can see that the preview has been loaded!","title":"OOS Download"},{"location":"index-en/#download-the-plug-in","text":"Important : If your machine is not an overseas machine, please use the download link of Github mirror website to avoid plug-in installation failure caused by the wall. 1. Download the plug-in from the menu shown in the figure. 2.","title":"Download the plug-in"},{"location":"index-en/#cost-savings","text":"","title":"Cost savings"},{"location":"index-en/#ecs-cost-savings","text":"GPU resources are expensive and can be used to save costs in the following two ways: 1. If you do not use it for the time being, you can select shutdown (save shutdown mode) on the operation and maintenance management page [ensure that the pay-as-you-go type is selected in the previous quick start step 1]. At this time, some resources will be recovered and charging will be stopped to reduce related costs and save usage costs. The next time you use it, start it again. The operation is as follows: -Shutdown: -Wait for shutdown to end: -Power on: -Wait for end of boot: 2. If the service instance is no longer used completely, the service instance can be deleted directly, and no further expenses will be incurred in the future.","title":"ECS Cost Savings"},{"location":"index-en/#api-access","text":"Stable Diffusion created through the computing nest enable API access by default. You can use API calls to better integrate our services. You can view the list of all accessible APIs, such as access http://48.xxx.xx, from the Endpoint /docs# obtained in Step 4. 163:8080/docs# can be seen The following is an example of calling the Stable Diffusion API from Python: ''' import requests import io import base64 from PIL import Image, PngImagePlugin if name == ' main ': url = \"http://48.xxx.xx. 163:8080\" payload = { \"prompt\": \"puppy dog \", \"steps\": 5 } token = \"admin:password\" encoded_token = base64.b64encode(token.encode(\"utf-8\")).decode(\"utf-8\") headers = { \"Content-Type\": \"application/json \", \"Authorization\": f'Basic {encoded_token}' } response = requests.post(url=f'{url}/sdapi/v1/txt2img', json=payload, headers=headers) r = response.json() for I in r['images']: image = Image.open(io.BytesIO(base64.b64decode( I .split(\",\", 1)[0]))) png_payload = { \"image\": \"data:image/png;base64,\" I } response2 = requests.post(url=f'{url}/sdapi/v1/png-info', json=png_payload) pnginfo = PngImagePlugin.PngInfo() pnginfo.add_text(\"parameters\", response2.json().get(\"info\")) image.save('output.png', pnginfo=pnginfo) ''' For more information about API access, see the API Access Wizard","title":"API Access"},{"location":"index-en/#help-documentation","text":"Please visit stable-diffusion Usage Documentation to learn how to use.","title":"Help documentation"}]}